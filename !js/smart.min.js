function initFormControl(t){t.find("input[type=text],input[type=email],input[type=password],select,textarea").addClass("form-control"),t.find("input[type=submit],input[type=button]").addClass("btn btn-primary")}function initDialogHendler(t,e){var n=t.find(".content");n.prepend('<a href="#" class="dialog-close"><i class="fa fa-times" aria-hidden="true"></i></a>'),n.find("form").submit(function(){return postDialogForm(t,$(this),e),!1}),n.find("a").click(function(){return"#"!=$(this).attr("href")?$(this).closest(".wa-auth-adapters").length?($(".dialog:visible").hide().find(".cart").empty(),!1):(loadDialogContent(t,$(this).attr("href")),!1):void 0})}function postDialogForm(t,e,n){var a=t.find(".content");a.html('<i class="icon32 loading"><i>'),$.post(n,e.serializeArray(),function(e){$(e).find(".wa-value .wa-error-msg").length?(a.html($(e).find("#content >")),initDialogHendler(t,n)):window.location.href=n})}function loadDialogContent(t,e){var n=t.find(".content");n.html('<i class="icon32 loading"><i>'),n.load(e+" #content >",function(){initDialogHendler(t,e),initFormControl(t)}),t.show()}function delayedLoading(){function t(){for(var t in window.delayJsFunctions)try{"string"==typeof window.delayJsFunctions[t]?$.globalEval(window.delayJsFunctions[t]):"function"==typeof window.delayJsFunctions[t]&&window.delayJsFunctions[t]()}catch(e){console.log(e)}$("#loading-container").hide(),$("#container").css("visibility","visible"),img_lazyload&&$("img[data-original],div[data-original]").lazyload({effect:"fadeIn"})}function e(e){console.log(e.type+": "+e.target.src),n++,n==window.delayJs.length&&(t(),$(document).trigger("js_loaded"))}var n=(window.delayJs,0);if(window.delayJs.length)for(var a in window.delayJs){var o=document.createElement("script");o.readyState&&!o.onload?(o.onreadystatechange=function(){("loaded"==o.readyState||"complete"==o.readyState)&&(o.onreadystatechange=null,e())},o.onerror=function(){e()}):(o.onload=e,o.onerror=e),o.type="text/javascript",o.src=window.delayJs[a];var i=document.getElementsByTagName("head")[0].firstChild;document.getElementsByTagName("head")[0].insertBefore(o,i)}else t();if(window.delayCss.length)for(var a in window.delayCss){var l=document.createElement("link");l.type="text/css",l.rel="stylesheet",l.href=window.delayCss[a];var i=document.getElementsByTagName("head")[0].firstChild;document.getElementsByTagName("head")[0].insertBefore(l,i)}}$("[data-toggle='tooltip']").tooltip({container:"body"}),$(document).keyup(function(t){27==t.keyCode&&$(".dialog:visible").trigger("close")}),$(".dialog").on("click","a.dialog-close",function(){return $(this).closest(".dialog").trigger("close"),!1}),$(document).on("close",".dialog",function(){$(this).closest(".dialog").hide().find(".content").empty(),$("html").removeClass("dialog-open")}),$(document).ready(function(){$(document).on("click",".toggle-menu",function(){return $(this).parent().next().slideToggle("slow"),!1}),initFormControl($("#content")),initFormControl($("#column-left")),$("#cart").on("click",".remove",function(){var t=$(this).closest("tr");return $.post(cart_url+"delete/",{id:t.data("id"),html:1},function(e){"ok"==e.status&&(t.remove(),$("#cart-total").html(e.data.total),e.data.count||($("#cart .cart-empty").show(),$("#cart .cart-buttons").hide(),$("#cart .cart-items").hide()))},"json"),!1}),$(document).on("click",".modal-dialog-url",function(){var t=$(this).attr("href");if(t){var e=$("#dialog");return loadDialogContent(e,t),$("html").addClass("dialog-open"),!1}return!1});var t=function(t){var e=window.matchMedia,n="function"==typeof e;return n&&t?e(t).matches:!1};!t("only screen and (max-width: 767px)")&&fixed_cart&&$(window).scroll(function(){$(this).scrollTop()>=155&&!$("#cart").hasClass("fixed")?($("#cart").hide(),$("#cart").addClass("fixed"),$("#cart").slideToggle(200)):$(this).scrollTop()<150&&$("#cart").hasClass("fixed")&&$("#cart").removeClass("fixed")}).scroll(),$("#alert-header-banner").on("closed.bs.alert",function(){$.cookie("header_banner_closed","closed",{expires:30,path:"/"})})}),jQuery(function(t){t(document).ready(function(){return is_autocomplete?void(t("#filter_name").autocomplete({delay:500,minLength:3,source:function(e,n){e.term=e.term.replace(/^\s+|\s+$/g,"");var a=e.term.replace(/\s+/g,"+");t.ajax({url:shop_search_url+"?query="+encodeURIComponent(a),type:"GET",dataType:"html",success:function(e){var o=t("<div></div>").append(e),i=t.map(o.find(".products-category .product-layout:lt(5) .ajax_product_info"),function(e){return{label:t(e).data("name"),value:t(e).data("name"),url:t(e).data("url"),text:'<div><img src="'+t(e).data("img")+'" /><span class="item-name">'+t(e).data("name")+'</span>&nbsp;<span class="item-price">'+t(e).data("price")+"</span></div>"}});o.find(".products-category .product-layout").length>5&&(i[i.length]={label:""+a,value:""+a,url:shop_search_url+"?query="+encodeURIComponent(a),text:show_all_text}),n(i)}})},select:function(t,e){location.href=e.item.url}}).data("autocomplete")._renderMenu=function(e,n){t.each(n,function(n,a){t("<li></li>").data("item.autocomplete",a).append('<a href="'+a.url+'">'+a.text+"</a>").appendTo(e)})}):!1})});